webpackJsonp([7],{"13DI":function(e,t,n){"use strict";function a(e){var t=this;v=e;var a=v,s=a.vue,o=a.listen_route,i=a.port,c=a.avatar,d=a.name,g=a.uid,p=a.store_id,_=a.is_ssl;h=new WebSocket(u(_)+":"+o+":"+i),h.onopen=function(){h.send(f()({name:d,avatar:c,origin:r()?"pc":"phone",store_id:p,uid:g,type:"login",user_type:"service"}))},h.onclose=function(){},h.onmessage=function(e){var a=JSON.parse(e.data);switch(a.message_type){case"come":if(a.uid===v.user.user_id)break;break;case"leave":if(a.uid===v.user_id||""!==a.uid)break;break;case"init":a.msg&&(t.status=1);break;case"come_msg":s.comeMessage(a);break;case"come_wait":s.comeWait(a);break;case"robbed":case"user_robbed":case"uoffline":case"close_link":break;case"others_login":m()({title:"提示",message:"您已被强迫下线！",cancelButtonText:"退出登录",confirmButtonText:"强制登录",showConfirmButton:!0,showCancelButton:!0,closeOnClickModal:!1}).then(function(e){"cancel"===e?n.i(l.b)({router:v.vue.$router,ws:!0}):window.location.reload()})}}}function s(e){var t=e.msg,n=e.uid,a=e.goods_id;return!(!t||""===t||v==={}||""===v.uid||void 0===v.uid)&&(h.send(f()({avatar:v.avatar,goods_id:a,msg:t,origin:r()?"pc":"phone",store_id:v.store_id,to_id:n,type:"sendmsg"})),v.avatar)}function o(){h.close()}function i(e){var t=e.goods_id,n=e.uid,a=e.store_id;h.send(f()({from_id:v.uid,goods_id:t,msg:n,store_id:a,to_id:null,type:"info"}))}function r(){for(var e=navigator.userAgent,t=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"],n=!0,a=0;a<t.length;a++)if(e.indexOf(t[a])>0){n=!1;break}return n}function u(e){return e?"wss":"ws"}n.d(t,"b",function(){return a}),n.d(t,"a",function(){return o}),n.d(t,"c",function(){return s}),n.d(t,"d",function(){return i});var c=n("wf+Q"),d=(n.n(c),n("DKk0")),m=n.n(d),g=n("3SZ7"),f=n.n(g),l=n("Pi6f"),h=null,v=null},"6CWX":function(e,t,n){"use strict";function a(e){n("YtOT")}var s=n("AOMH"),o=n("8wKR"),i=n("25r8"),r=a,u=i(s.a,o.a,r,null,null);t.a=u.exports},"8wKR":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement;return(e._self._c||t)("em",{staticClass:"badge"},[e._v("\n  "+e._s(e.number)+"\n")])},s=[],o={render:a,staticRenderFns:s};t.a=o},AOMH:function(e,t,n){"use strict";t.a={name:"badge",props:{number:{type:Number}}}},BwjS:function(e,t,n){"use strict";function a(e){n("OZyf")}var s=n("LV7a"),o=n("C//8"),i=n("25r8"),r=a,u=i(s.a,o.a,r,"data-v-1c4d3757",null);t.a=u.exports},"C//8":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("footer",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"message-footer"},[n("div",{staticClass:"input",attrs:{contenteditable:"true"},on:{input:e.changMessage,click:e.scrollShow}}),e._v(" "),n("ec-button",{attrs:{text:"发送"},nativeOn:{click:function(t){e.thisSendMessage({msg:e.message,uid:e.$route.query.id,goods_id:e.$route.query.goods_id})}}})],1)},s=[],o={render:a,staticRenderFns:s};t.a=o},E4I4:function(e,t){},FggS:function(e,t){},I3GG:function(e,t,n){"use strict";var a=n("34v0"),s=n.n(a),o=n("/eRP"),i=n("6CWX");t.a={name:"chat-footer",components:{Badge:i.a},computed:s()({},n.i(o.a)("chat/bottomNavigator",["show","navs"]))}},IcnI:function(e,t,n){"use strict";var a,s=n("WxFH"),o=n.n(s),i=n("Xu2r"),r=n("gt1m"),u=n("/eRP"),c=n("VAhz");r.default.use(u.c);var d={needPageTransition:!1,pageTransitionName:"",historyPageScrollTop:{}},m={saveScrollTop:function(e,t){var n=e.commit,a=t.path,s=t.scrollTop;n(i.a,{path:a,scrollTop:s})}},g=(a={},o()(a,i.b,function(e,t){var n=t.pageTransitionName;e.pageTransitionName=n}),o()(a,i.a,function(e,t){var n=t.path,a=t.scrollTop;e.historyPageScrollTop[n]=a}),a);t.a=new u.c.Store({state:d,actions:m,mutations:g,modules:{namespaced:!0,chat:c.a},strict:!1})},Kkag:function(e,t,n){"use strict";var a=n("UIuv"),s=n.n(a),o=n("gt1m"),i=n("xY2u"),r=n.n(i),u=n("Pi6f"),c=localStorage.getItem("token");r.a.defaults.headers.common.token=c||"",r.a.interceptors.request.use(function(e){return e},function(e){return s.a.reject(e)}),r.a.interceptors.response.use(function(e){return 1===e.data.code&&"用户登录已失效"===e.data.message&&(localStorage.removeItem("token"),localStorage.getItem("token")&&(u.b({router:null}),window.location.href="/chat/login")),e},function(e){return s.a.reject(e)}),o.default.prototype.$http=r.a},LV7a:function(e,t,n){"use strict";var a=n("34v0"),s=n.n(a),o=n("/eRP"),i=n("qkow");t.a={name:"chat-footer",data:function(){return{message:"",num:0}},components:{EcButton:i.a},computed:s()({},n.i(o.a)("chat/messageBottomInput",["show"])),methods:s()({},n.i(o.b)("chat",["sendMessage"]),{scrollShow:function(){var e=this.$el.querySelector(".input");setTimeout(function(){e.scrollIntoViewIfNeeded()},400)},changMessage:function(e){this.message=e.srcElement.innerHTML},thisSendMessage:function(e){this.sendMessage(e),this.message="",this.$el.querySelector(".input").innerHTML="",this.$el.querySelector(".input").focus()}})}},LzD8:function(e,t){},M93x:function(e,t,n){"use strict";function a(e){n("FggS")}var s=n("dT0j"),o=n("qcD6"),i=n("25r8"),r=a,u=i(s.a,o.a,r,null,null);t.a=u.exports},MrDs:function(e,t,n){"use strict";var a=n("dbJu"),s=n.n(a),o=n("HFN4"),i=n.n(o),r=n("Zw+j"),u=new r.a,c=function(){function e(){s()(this,e)}return i()(e,[{key:"messageNew",value:function(e){var t=u.updateImageTag(e);return u.delHtmlTag(t)}}]),e}();t.a=c},MxVq:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("gt1m"),s=n("M93x"),o=n("YaEn"),i=n("IcnI");n("kBzv");a.default.config.productionTip=!1,new a.default({el:"#app",router:o.a,store:i.a,template:"<App/>",components:{App:s.a}})},OZyf:function(e,t){},Pi6f:function(e,t,n){"use strict";function a(){return w.a.post(window.requestUrl("chat&c=adminp"))}function s(){return w.a.get(window.requestUrl("chat&c=adminp&a=visit"))}function o(e){var t=e.id,n=e.sid,a=e.type,s=e.page,o=e.defaults;return w.a.post(window.requestUrl("chat&c=adminp&a=chatlist"),I.a.stringify({type:a||void 0,page:s||void 0,default:o||void 0,user_id:t,store_id:n}))}function i(e){var t=e.username,n=e.password,a=e.vue;p.a.open(),w.a.post(window.requestUrl("chat&c=login"),I.a.stringify({username:t,password:n})).then(function(e){var t=e.data,n=t.code,s=t.msg,o=t.token;p.a.close(),l()({message:s,position:"middle",iconClass:1===n?"iconfont icon-error":"iconfont icon-success",duration:1600}),0===n&&(localStorage.setItem("token",o),w.a.defaults.headers.common.token=o||"",a.$router.push({path:a.$route.query.redirect||"/chat"}),m(a))})}function r(){return w.a.post(window.requestUrl("chat&c=adminp&a=serviceinfo"))}function u(e){var t=e.router,n=e.ws;p.a.open(),n||L.a(),w.a.get(window.requestUrl("chat&c=adminp&a=logout")).then(function(e){var n=e.data,a=n.message,s=n.code;if(p.a.close(),l()({message:a,position:"middle",duration:2e3}),0===s){localStorage.getItem("token")&&localStorage.removeItem("token"),t&&t.push({path:"/chat/login"})}})}function c(e){var t=e.userId;return w.a.get(window.requestUrl("chat&c=adminp&a=changemessagestatus&id="+t))}function d(e){var t=e.goodsId;return w.a.post(window.requestUrl("chat&c=adminp&a=goodsinfo"),I.a.stringify({gid:t}))}function m(e){w.a.post(window.requestUrl("chat&c=adminp&a=initinfo")).then(function(t){var n=t.data,a=n.code,s=(n.message,n.data);0===a&&(e.setAvigatorNumber({chatNum:s.chat_num,waitNum:s.wait_num}),L.b({vue:e,listen_route:s.listen_route,port:s.port,avatar:s.avatar,name:s.user_name,uid:s.user_id,store_id:s.store_id,is_ssl:s.is_ssl}))})}n.d(t,"d",function(){return a}),n.d(t,"e",function(){return s}),n.d(t,"f",function(){return o}),n.d(t,"c",function(){return d}),n.d(t,"i",function(){return i}),n.d(t,"a",function(){return m}),n.d(t,"h",function(){return r}),n.d(t,"g",function(){return c}),n.d(t,"b",function(){return u});var g=n("E4I4"),f=(n.n(g),n("owsk")),l=n.n(f),h=n("MxVq"),v=(n.n(h),n("Ng52")),p=n.n(v),_=n("xY2u"),w=n.n(_),b=n("TOsV"),I=n.n(b),L=n("13DI")},VAhz:function(e,t,n){"use strict";var a,s,o,i=n("Sxqw"),r=n.n(i),u=n("Hmpo"),c=n.n(u),d=n("E4I4"),m=(n.n(d),n("owsk")),g=n.n(m),f=n("MxVq"),l=(n.n(f),n("Ng52")),h=n.n(l),v=n("vYJH"),p=n.n(v),_=n("WxFH"),w=n.n(_),b=n("Edqs"),I=n.n(b),L=n("Xu2r"),k=n("i6fZ"),y=n("Pi6f"),N=n("lM2f"),S=n("13DI"),x={},M={setAvigatorNumber:function(e,t){(0,e.commit)(L.c,t)},comeMessage:function(e,t){var n=e.commit,a=e.rootState,s=e.state,o=s.message.messageList[t.from_id];t.goodsId&&Number(o.goodsInfo.goods_id)!==Number(t.goods_id)?y.c({goodsId:t.goods_id}).then(function(e){var s=e.data,o=s.code,i=s.goods_info;0===o&&n(L.d,{info:t,rootState:a,goodsInfo:i})}):n(L.d,{info:t,rootState:a}),n(L.e,{info:t,time:t.time})},comeWait:function(e,t){(0,e.commit)(L.f,{info:t})},sendMessage:function(e,t){var a=e.commit,s=e.rootState,o=(e.dispatch,n.i(N.a)(new Date,"hh:mm:ss"));if(t.msg||""!==t.msg){var i=n.i(S.c)({msg:t.msg,uid:t.uid,goods_id:t.goods_id});a(L.g,{info:t,avatar:i,time:o,rootState:s}),a(L.e,{info:t,time:o,send:!0})}},insertInfo:function(e,t){var a=e.commit;n.i(S.d)(t),a(L.h,{customerId:t.uid})}},T=(a={},w()(a,L.c,function(e,t){var n=t.chatNum,a=t.waitNum;e.bottomNavigator.navs[0].number=n,e.bottomNavigator.navs[1].number=a}),w()(a,L.d,function(e,t){var n=t.info,a=t.rootState,s=t.goodsInfo;a.chat.message.bScroll=!0;var o=e.message.messageList[n.from_id];o&&(o.list.push({add_time:n.time,avatar:n.avatar,name:n.name,status:n.status,service_id:n.to_id,message:n.message,user_type:"2"}),s&&(o.goodsInfo=s),e.message.messageList=I()({},e.message.messageList))}),w()(a,L.f,function(e,t){for(var n=t.info,a=e.visitor.visitorList.length,s=!1,o=0;o<a;o++)if(Number(e.visitor.visitorList[o].fid)===Number(n.from_id)){s=!0,e.visitor.visitorList[o].add_time=n.time,e.visitor.visitorList[o].message=n.message,e.visitor.visitorList[o].message_list.unshift(n.message),e.visitor.visitorList[o].num++,e.bottomNavigator.navs[1].number++;break}s||(e.visitor.visitorList.unshift({user_name:n.name,add_time:n.time,avatar:n.avatar,customer_id:n.from_id,goods_id:n.goods_id,message:n.message,message_list:[n.message],num:1,origin:n.origin,store_id:n.store_id}),e.bottomNavigator.navs[1].number++)}),w()(a,L.g,function(e,t){var n=t.info,a=t.avatar,s=t.time;t.rootState.chat.message.bScroll=!0,e.message.messageList.hasOwnProperty(n.uid)&&(e.message.messageList[n.uid].list.push({avatar:a||"",message:n.msg,add_time:s,user_type:"1"}),e.message.messageList=I()({},e.message.messageList))}),w()(a,L.e,function(e,t){for(var n=t.info,a=t.time,s=t.send,o=e.dialogue.dialogueList.length,i=n.uid||n.from_id,r=n.msg||n.message,u=0;u<o;u++)if(Number(e.dialogue.dialogueList[u].customer_id)===Number(i)){e.dialogue.dialogueList[u].message.unshift(r),e.dialogue.dialogueList[u].add_time=a,s||(e.dialogue.dialogueList[u].message_sum?e.dialogue.dialogueList[u].message_sum++:k.a.set(e.dialogue.dialogueList[u],"message_sum",1),e.bottomNavigator.navs[0].number++);break}}),w()(a,L.h,function(e,t){for(var n=t.customerId,a=e.visitor.visitorList.length,s=0,o=0;o<a;o++){Number(e.visitor.visitorList[o].customer_id)===Number(n)&&(s=e.visitor.visitorList[o].num,e.visitor.visitorList.splice(o,1));break}e.bottomNavigator.navs[1].number-=s}),a),q={};t.a={namespaced:!0,state:x,mutations:T,actions:M,getters:q,modules:{bottomNavigator:{namespaced:!0,state:{show:!1,navs:[{name:"dialogue",icon:"message",text:"对话",number:0,active:!0,route:{name:"chat/dialogue",path:"/chat/dialogue"}},{name:"visitor",icon:"visitors",text:"访客",number:0,active:!1,route:{name:"chat/visitor",path:"/chat/visitor"}},{name:"setting",icon:"setting",text:"设置",active:!1,route:{name:"chat/setting",path:"/chat/setting"}}]},actions:{activateChatFooterName:function(e,t){(0,e.commit)(L.i,t)},showBottomNav:function(e,t){(0,e.commit)(L.j,t)}},mutations:(s={},w()(s,L.i,function(e,t){e.navs=e.navs.map(function(e){return e.active=e.name===t,e})}),w()(s,L.j,function(e,t){e.show=t}),s)},dialogue:{namespaced:!0,state:{dialogueList:[]},actions:{getDialogueList:function(e,t){var n=e.commit;y.d().then(function(e){var t=e.data,a=(t.code,t.message_list),s=[];if(a instanceof Array)s=a;else for(var o in a)s.push(a[o]);n(L.k,s)})}},mutations:w()({},L.k,function(e,t){e.dialogueList=t})},visitor:{namespaced:!0,state:{visitorList:[]},actions:{getVisitorList:function(e,t){var n=e.commit,a=e.rootState;y.e().then(function(e){var t=e.data;0===t.code&&n(L.l,{code:t.code,visitorList:t.visit_list,rootState:a})})}},mutations:w()({},L.l,function(e,t){var n=(t.code,t.total,t.messageList,t.visitorList);t.rootState;e.visitorList=n})},message:{namespaced:!0,state:{bScroll:!1,messageId:-1,messageList:{}},getters:{message:function(e){if(e.messageList[e.messageId])return e.messageList[e.messageId].list},page:function(e){if(e.messageList[e.messageId])return e.messageList[e.messageId].page},goodsInfo:function(e){if(e.messageList[e.messageId])return e.messageList[e.messageId].goodsInfo}},actions:{setMessageId:function(e,t){var n=e.commit,a=t.messageId;n(L.m,{messageId:a})},setMessageList:function(e,t){var n=this,a=e.dispatch,s=e.commit,o=e.state;return p()(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!o.messageList.hasOwnProperty(t.id)||"default"!==t.type){e.next=2;break}return e.abrupt("return",!1);case 2:if("default"!==t.type){e.next=6;break}a("setMessageId",{messageId:t.id}),e.next=8;break;case 6:return e.next=8,a("changePage");case 8:h.a.open({text:"加载中..."}),y.f({id:t.id,sid:t.sid,type:t.type,defaults:t.defaults,page:t.page}).then(function(e){var n=e.data,a=n.code,o=n.message_list,i=n.goods;if(h.a.close(),0===a){var r=o.length,u=[];if(r>0)for(var c=r-1;c>=0;c--)u.push(o[c]);s(L.n,{messageId:t.id,messageList:u,type:t.type,goods:i})}else g()("没有更多了……")});case 10:case"end":return e.stop()}},e,n)}))()},changeToRead:function(e,t){var n=e.commit,a=e.rootState,s=t.userId;y.g({userId:s}).then(function(){n(L.o,{rootState:a,userId:s})})},changePage:function(e){var t=this,n=e.commit;return p()(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n(L.p);case 1:case"end":return e.stop()}},e,t)}))()}},mutations:(o={},w()(o,L.m,function(e,t){var n=t.messageId;e.messageId=n}),w()(o,L.n,function(e,t){var n=t.messageId,a=t.messageList,s=t.type,o=t.goods;if(e.bScroll=!1,"default"===s)k.a.set(e.messageList,n,{page:1,list:a,goodsInfo:o});else{var i;(i=e.messageList[n].list).unshift.apply(i,r()(a)),e.messageList=I()({},e.messageList)}}),w()(o,L.o,function(e,t){for(var n=t.rootState,a=t.userId,s=n.chat.dialogue.dialogueList.length,o=0,i=0;i<s;i++)if(0!==n.chat.dialogue.dialogueList[i].message_sum&&Number(n.chat.dialogue.dialogueList[i].customer_id)===Number(a)){o=n.chat.dialogue.dialogueList[i].message_sum||0,n.chat.dialogue.dialogueList[i].message_sum=0,n.chat.dialogue=I()({},n.chat.dialogue),n.chat.bottomNavigator.navs[0].number-=o;break}}),w()(o,L.p,function(e){e.messageList[e.messageId].page++}),o)},messageBottomInput:{namespaced:!0,state:{show:!1},actions:{showMessageInput:function(e,t){(0,e.commit)(L.q,t)}},mutations:w()({},L.q,function(e,t){e.show=t})},settingInfo:{namespaced:!0,state:{userInfo:{image:"",name:"",fit:""},account:""},actions:{getSettingInfo:function(e){var t=e.commit;h.a.open({text:"加载中..."}),y.h().then(function(e){var n=e.data,a=n.data;0===n.code&&(t(L.r,a),h.a.close())})}},mutations:w()({},L.r,function(e,t){e.userInfo.name=t.nick_name,e.userInfo.image=t.service_avatar,e.account=t.user_name})}}}},Xu2r:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return s}),n.d(t,"d",function(){return o}),n.d(t,"f",function(){return i}),n.d(t,"c",function(){return r}),n.d(t,"g",function(){return u}),n.d(t,"e",function(){return c}),n.d(t,"h",function(){return d}),n.d(t,"i",function(){return m}),n.d(t,"j",function(){return g}),n.d(t,"q",function(){return f}),n.d(t,"k",function(){return l}),n.d(t,"l",function(){return h}),n.d(t,"r",function(){return v}),n.d(t,"m",function(){return p}),n.d(t,"n",function(){return _}),n.d(t,"o",function(){return w}),n.d(t,"p",function(){return b});var a="setPageTransitionName",s="saveScrollTop",o="comeMessage",i="comeWait",r="setNavigatorNumber",u="sendMessage",c="newDialogue",d="insertInfo",m="chat/activateChatFooterNav",g="chat/showBottomNav",f="chat/showMessageInput",l="chat/getDialogueList",h="chat/getVisitorList",v="setting/getSettingInfo",p="message/setMessageId",_="message/setMessageList",w="message/changeToRead",b="message/changePage"},YaEn:function(e,t,n){"use strict";function a(e,t){if(e.name&&-1!==p.indexOf(e.name))return w.length=0,!1;if(t.name&&-1!==p.indexOf(t.name))return w.push(e.fullPath),!0;if(e.name&&-1!==_.indexOf(e.name))return w.push(e.fullPath),!0;var n=w.indexOf(e.fullPath);return-1!==n?(w.length=n+1,!1):(w.push(e.fullPath),!0)}var s=n("E4I4"),o=(n.n(s),n("owsk")),i=n.n(o),r=n("Xu2r"),u=n("gt1m"),c=n("nYn5"),d=function(){return n.e(2).then(n.bind(null,"nt9Z"))},m=function(){return n.e(1).then(n.bind(null,"WHOy"))},g=function(){return n.e(0).then(n.bind(null,"osDW"))},f=function(){return n.e(3).then(n.bind(null,"RdYp"))},l=function(){return n.e(5).then(n.bind(null,"QGR8"))},h=function(){return n.e(4).then(n.bind(null,"cTYd"))};u.default.use(c.a);var v=new c.a({mode:"hash",routes:[{path:"/",name:"",component:d,meta:{requiresAuth:!0}},{path:"/chat",name:"chat",component:d,meta:{requiresAuth:!0}},{path:"/chat/dialogue",name:"chat/dialogue",component:d,meta:{requiresAuth:!0}},{path:"/chat/visitor",name:"chat/visitor",component:m,meta:{requiresAuth:!0}},{path:"/chat/setting",name:"chat/setting",component:g,meta:{requiresAuth:!0}},{path:"/chat/message",name:"chat/message",component:f,meta:{notKeepAlive:!0,requiresAuth:!0}},{path:"/chat/login",name:"chat/login",component:l},{path:"/chat/update/password",name:"chat/update/password",component:h,meta:{requiresAuth:!0}}]});v.beforeEach(function(e,t,n){if(v.app.$store){if(v.app.$store.state.needPageTransition){var s=a(e,t)?"slide-left":"slide-right";v.app.$store.commit(r.b,{pageTransitionName:s})}}else a(e,t);if(e.matched.some(function(e){return e.meta.requiresAuth})){localStorage.getItem("token")?n():(i()({message:"请登录后进行操作",position:"middle",duration:1600}),n({path:"/chat/login",query:{redirect:e.fullPath}}))}else n()});var p=["chat/dialogue"],_=[],w=[];t.a=v},YtOT:function(e,t){},"Zw+j":function(e,t,n){"use strict";var a=n("dbJu"),s=n.n(a),o=n("HFN4"),i=n.n(o),r=function(){function e(){s()(this,e)}return i()(e,[{key:"delHtmlTag",value:function(e){return e.replace(/<[^>]+>/g,"")}},{key:"updateImageTag",value:function(e){return e.replace(/<img [^>]*src=['"][^'"]+[^>]*>/g,"[图片]")}}]),e}();t.a=r},clLD:function(e,t,n){"use strict";function a(e){n("LzD8")}var s=n("I3GG"),o=n("n5Nk"),i=n("25r8"),r=a,u=i(s.a,o.a,r,"data-v-116f8816",null);t.a=u.exports},dT0j:function(e,t,n){"use strict";var a=n("34v0"),s=n.n(a),o=n("/eRP"),i=n("clLD"),r=n("BwjS"),u=n("Pi6f");t.a={name:"app",components:{ChatFooter:i.a,ChatMessageFooter:r.a},created:function(){localStorage.getItem("token")&&u.a(this)},computed:s()({},n.i(o.a)(["pageTransitionName"])),methods:s()({},n.i(o.b)("chat",["comeMessage","comeWait","setAvigatorNumber"]))}},eIVZ:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement;return(e._self._c||t)("button",{staticClass:"ec-button"},[e._v("\n  "+e._s(e.text)+"\n")])},s=[],o={render:a,staticRenderFns:s};t.a=o},ef30:function(e,t,n){"use strict";t.a={name:"ec-button",props:{text:{required:!0,type:String}}}},kBzv:function(e,t,n){"use strict";var a=n("gt1m"),s=(n("Kkag"),n("MrDs")),o=new s.a;window.requestUrl=function(e){return window.ROOT_URL?window.ROOT_URL+"index.php?m="+e:"http://10.10.10.145/dsc/index.php?m="+e};var i=["chat/message"];a.default.mixin({beforeRouteEnter:function(e,t,n){n(function(t){-1===i.indexOf(e.name)&&(t.$el.scrollTop=t.$store.state.historyPageScrollTop[e.fullPath]||0)})},beforeRouteLeave:function(e,t,n){-1===i.indexOf(t.name)&&this.$store.dispatch("saveScrollTop",{path:t.fullPath,scrollTop:this.$el.scrollTop}),n()}}),a.default.prototype.release=!0,window.imgHttp=a.default.prototype.release?"":"http://10.10.10.145",a.default.filter("messageNew",o.messageNew)},lM2f:function(e,t,n){"use strict";function a(e,t){var n=function(e){return e+="",e.replace(/^(\d)$/,"0$1")},a={yyyy:e.getFullYear(),yy:e.getFullYear().toString().substring(2),M:e.getMonth()+1,MM:n(e.getMonth()+1),d:e.getDate(),dd:n(e.getDate()),hh:e.getHours(),mm:e.getMinutes(),ss:e.getSeconds()};return t||(t="yyyy-MM-dd hh:mm:ss"),t.replace(/([a-z])(\1)*/gi,function(e){return a[e]})}n.d(t,"a",function(){return a})},n5Nk:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("footer",{directives:[{name:"show",rawName:"v-show",value:e.show&&e.navs.length,expression:"show && navs.length"}],staticClass:"chat-footer"},[n("ul",e._l(e.navs,function(t){return n("router-link",{key:t.name,class:{active:t.active},attrs:{to:t.route.path,tag:"li"}},[n("badge",{directives:[{name:"show",rawName:"v-show",value:t.number,expression:"item.number"}],attrs:{number:t.number}}),e._v(" "),n("i",{staticClass:"iconfont",class:"icon-"+t.icon}),e._v(" "),n("label",{attrs:{for:""}},[e._v(e._s(t.text))])],1)}))])},s=[],o={render:a,staticRenderFns:s};t.a=o},qcD6:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("keep-alive",[e.$route.meta.notKeepAlive?e._e():n("router-view",{key:e.$route.fullPath,staticClass:"app-view"})],1),e._v(" "),e.$route.meta.notKeepAlive?n("router-view",{key:e.$route.fullPath,staticClass:"app-view"}):e._e(),e._v(" "),n("chat-footer"),e._v(" "),n("chat-message-footer"),e._v("\n  "+e._s(e.pageTransitionName)+"\n")],1)},s=[],o={render:a,staticRenderFns:s};t.a=o},qkow:function(e,t,n){"use strict";function a(e){n("ulz+")}var s=n("ef30"),o=n("eIVZ"),i=n("25r8"),r=a,u=i(s.a,o.a,r,null,null);t.a=u.exports},qssg:function(e,t){},"ulz+":function(e,t){},"wf+Q":function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.js.map